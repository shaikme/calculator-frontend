"use strict";!function(e){function t(n){var u=[],c=function e(t){u.forEach(function(e){e(t)})},e=function e(t){return arguments.length&&(n=arguments.length<=0?void 0:t,c(n)),n};return e.subscribe=function(e){u.push(e)},e}function n(t,n){if(""!==u.value&&u.value!==t().input&&!l()&&!n()){var e;try{e=window.btoa(u.value)}catch(e){return n("invalid expression")}l(!0),fetch("https://calc-server-fyunjxifjr.now.sh/calculus?query=".concat(window.encodeURI(e))).then(function(t){return t.json().then(function(e){return t.ok?e:Promise.reject(e)})}).then(function(e){t({input:u.value,value:e.result}),l(!1)}).catch(function(e){n(e.message?e.message:"something went wrong"),l(!1)})}}var u=e.querySelector(".calculator__input"),c=e.querySelector(".calculator__button"),r=e.querySelector(".calculator__messageBox"),i=e.querySelector(".calculator__result"),o={input:"",value:""},s=t(""),a=t(o),l=t(!1);e.addEventListener("keypress",function(e){"Enter"===e.key&&n(a,s)}),c.addEventListener("click",n.bind(null,a,s)),u.addEventListener("input",function(){""!==a().value&&a(o),s()&&s(null)}),s.subscribe(function(e){r.textContent=e}),a.subscribe(function(e){i.textContent="= "+e.value}),l.subscribe(function(e){return c.setAttribute("disabled",e)})}(document);
//# sourceMappingURL=app.min.js.map